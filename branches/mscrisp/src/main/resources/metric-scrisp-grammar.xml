<?xml version="1.0" encoding="utf-8"?>

<scrisp-grammar>

  <!-- grammar -->

  <tree id="i.n">
    <leaf cat="n" type="anchor" sem="self" />
  </tree>

  <tree id="a.an">
    <node cat="n" sem="self">
      <leaf cat="a" type="anchor" sem="self"/>
      <leaf cat="n" type="foot" sem="self" />
    </node>
  </tree>

  <tree id="a.p">
    <node cat="np" sem="self">
      <leaf cat="np" type="foot" sem="self"/>
      <node cat="pp" sem="self" >
        <leaf cat="p" type="anchor" sem="self"/>
        <leaf cat="np" type="substitution" sem="npcomp"/>
      </node>
    </node>
  </tree>

  <tree id="i.dn">   <!-- non-xtag --> 
    <node cat="np" sem="self">
      <leaf cat="d" type="anchor" sem="self" />
      <node type="substitution" cat="n" sem="self" />
    </node>
  </tree>

  <tree id="i.transimperative">
    <node cat="s" sem="self">
       <node cat="vp" sem="self">
  	     <leaf cat="v" type="anchor" sem="self"/>
	     <leaf cat="np" type="substitution" sem="obj" />
       </node>
     </node>
  </tree>

<!--
  <tree id="i.intransimperative">
    <node cat="s" sem="self">
       <node cat="vp" sem="self">
  	     <leaf cat="v" type="anchor" sem="self"/>
       </node>
     </node>
  </tree>

  <tree id="a.sentconjunction">
    <node cat="s" sem="self">
      <leaf cat="s" type="foot" sem="self"/>
      <leaf cat="conj" type="anchor" sem="self" />
      <leaf cat="s" type="substitution" sem="other" />
    </node>
  </tree>

  <tree id="i.transppimperative">
    <node cat="s" sem="self">
      <node cat="vp" sem="self">
        <leaf cat="v" type="anchor" sem="self"/>
        <node cat="vp" sem="self">
          <node cat="v" sem="self">
            <leaf cat="" type="terminal" sem="self"/>
          </node>
          <node cat="pp" sem="ppobj">
            <leaf cat="p" type="lex" sem="ppobj"/>
            <leaf cat="np" type="substitution" sem="ppobj"/>
          </node>
        </node>
      </node>
    </node>
  </tree>  

 <tree id="a.sentconjunction2">
    <node cat="s" sem="self">
      <leaf cat="s" type="substitution" sem="other" />
      <leaf cat="conj" type="anchor" sem="self" />
      <leaf cat="s" type="foot" sem="self"/>
    </node>
  </tree>  

  <tree id="i.ditranspp1pp2imperative">
    <node cat="s" sem="self">
      <node cat="vp" sem="self">
        <leaf cat="v" type="anchor" sem="self"/>
        <node cat="vp" sem="self">
          <node cat="v" sem="self">
            <leaf cat="" type="terminal" sem="self"/>
          </node>
          <node cat="pp" sem="ppobj1">
            <leaf cat="p" type="lex" sem="ppobj1"/>
            <leaf cat="np" type="substitution" sem="ppobj1"/>
          </node>
        </node>
        <node cat="vp" sem="self">
          <node cat="v" sem="self">
            <leaf cat="" type="terminal" sem="self"/>
          </node>
          <node cat="pp" sem="ppobj2">
            <leaf cat="p" type="lex" sem="ppobj2"/>
            <leaf cat="np" type="substitution" sem="ppobj2"/>
          </node>
	</node>
      </node>
    </node>
  </tree>
-->  

  <!-- lexicon -->

  <entry word='push' pos='v'>
    <tree refid="i.transimperative">
      <semreq>button(obj)</semreq> 
      <pragcond>target(obj)</pragcond>
      <prageff>premod-index-zero(id(obj))</prageff>
      <impeff>push(obj)</impeff>
    </tree>
  </entry>

  <entry word='to_the_left_of' pos='p'>
    <tree refid='a.p'>
      <semcontent>left-of(self,npcomp)</semcontent>
      <pragcond>micro(npcomp)</pragcond>
      <costclass>micro</costclass>    
    </tree>
  </entry>

  <entry word='to_the_right_of' pos='p'>
    <tree refid='a.p'>
      <semcontent>left-of(npcomp,self)</semcontent>
      <pragcond>micro(npcomp)</pragcond>
      <costclass>micro</costclass>    
    </tree>
  </entry>

  <entry word='above' pos='p'>
    <tree refid='a.p'>
      <semcontent>above(self,npcomp)</semcontent>
      <pragcond>micro(npcomp)</pragcond>
      <costclass>micro</costclass>    
    </tree>
  </entry>

  <entry word='below' pos='p'>
    <tree refid='a.p'>
      <semcontent>above(npcomp,self)</semcontent>
      <pragcond>micro(npcomp)</pragcond>
      <costclass>micro</costclass>    
    </tree>
  </entry>
  
  <entry word='left' pos='a'>
    <tree refid='a.an'>
      <pragcond>forall(y,not(and(distractor(id(self),y),left-of(y,self))))</pragcond>
      <prageff>forall(y,when(left-of(self,y),not(distractor(id(self),y))))</prageff>
      <pragcond>or(premod-index-zero(id(self)),premod-index-one(id(self)))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-one(id(self)))</prageff>
      <prageff>premod-index-two(id(self))</prageff>
      <costclass>viewer</costclass>    
      <var>y</var>
    </tree>
  </entry>

  <entry word='right' pos='a'>
    <tree refid='a.an'>
      <pragcond>forall(y,not(and(distractor(id(self),y),left-of(self,y))))</pragcond>
      <prageff>forall(y,when(left-of(y,self),not(distractor(id(self),y))))</prageff>
      <pragcond>or(premod-index-zero(id(self)),premod-index-one(id(self)))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-one(id(self)))</prageff>
      <prageff>premod-index-two(id(self))</prageff>
      <costclass>viewer</costclass>    
      <var>y</var>
    </tree>
  </entry>

  <entry word='upper' pos='a'>
    <tree refid='a.an'>
      <pragcond>forall(y,not(and(distractor(id(self),y),above(y,self))))</pragcond>
      <prageff>forall(y,when(above(self,y),not(distractor(id(self),y))))</prageff>
      <pragcond>or(premod-index-zero(id(self)),premod-index-one(id(self)))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-one(id(self)))</prageff>
      <prageff>premod-index-two(id(self))</prageff>
      <costclass>viewer</costclass>    
      <var>y</var>
    </tree>
  </entry>

  <entry word='lower' pos='a'>
    <tree refid='a.an'>
      <pragcond>forall(y,not(and(distractor(id(self),y),above(self,y))))</pragcond>
      <prageff>forall(y,when(above(y,self),not(distractor(id(self),y))))</prageff>
      <pragcond>or(premod-index-zero(id(self)),premod-index-one(id(self)))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-one(id(self)))</prageff>
      <prageff>premod-index-two(id(self))</prageff>
      <costclass>viewer</costclass>    
      <var>y</var>
    </tree>
  </entry>

  <entry word='blue' pos='a'>
    <tree refid='a.an'>
      <semcontent>blue(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='red' pos='a'>
    <tree refid='a.an'>
      <semcontent>red(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='green' pos='a'>
    <tree refid='a.an'>
      <semcontent>green(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='yellow' pos='a'>
    <tree refid='a.an'>
      <semcontent>yellow(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='blue' pos='n'>
    <tree refid='i.n'>
      <semcontent>blue(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='red' pos='n'>
    <tree refid='i.n'>
      <semcontent>red(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='green' pos='n'>
    <tree refid='i.n'>
      <semcontent>green(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='yellow' pos='n'>
    <tree refid='i.n'>
      <semcontent>yellow(self)</semcontent>
      <pragcond>premod-index-zero(id(self))</pragcond>
      <prageff>not(premod-index-zero(id(self)))</prageff>
      <prageff>not(premod-index-two(id(self)))</prageff>
      <prageff>premod-index-one(id(self))</prageff>
      <costclass>absolute</costclass>      
    </tree>
  </entry>

  <entry word='the' pos='d'>
    <tree refid="i.dn">
    </tree>
  </entry>

<!--
  <entry word='nellipsis' pos='n'>
    <tree refid="i.n">
    </tree>
  </entry>
-->

  <entry word='button' pos='n'>
    <tree refid="i.n">
      <semcontent>button(self)</semcontent>
      <costclass>taxonomic</costclass>      
    </tree>
  </entry>

  <entry word='alarm' pos='n'>
    <tree refid="i.n">
      <semcontent>alarm(self)</semcontent>      
    </tree>
  </entry>

  <entry word='door' pos='n'>
    <tree refid="i.n">
      <semcontent>door(self)</semcontent>
    </tree>
  </entry>

<!--
  <entry word='doorway' pos='n'>
    <tree refid="i.n">
      <semcontent>doorway(self)</semcontent>
      <pragcond>door(self)</pragcond>
    </tree>
  </entry>
-->  

  <entry word='safe' pos='n'>
    <tree refid="i.n">
      <semcontent>safe(self)</semcontent>
    </tree>
  </entry>

  <entry word='picture' pos='n'>
    <tree refid="i.n">
      <semcontent>picture(self)</semcontent>
    </tree>
  </entry>

  <entry word='lamp' pos='n'>
    <tree refid="i.n">
      <semcontent>lamp(self)</semcontent>
    </tree>
  </entry>

  <entry word='flower' pos='n'>
    <tree refid="i.n">
      <semcontent>flower(self)</semcontent>
    </tree>
  </entry>

  <entry word='chair' pos='n'>
    <tree refid="i.n">
      <semcontent>chair(self)</semcontent>
    </tree>
  </entry>

  <entry word='couch' pos='n'>
    <tree refid="i.n">
      <semcontent>couch(self)</semcontent>
    </tree>
  </entry>

</scrisp-grammar>